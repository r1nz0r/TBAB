# Пошаговый автобаттлер

Игрок создаёт и прокачивает персонажа, после чего герой автоматически сражается с монстрами в пошаговом режиме.

---

### Как установить
Для настройки проекта и зависимостей используется ```cmake```.  Убедитесь, что на вашем компьютере установлены ```cmake``` и компилятор ```gcc/g++/MSVC```:
|Инструменты сборки   	|Версия|
|-----------------------|------|
|cmake:       			|3.29.4|
|C++:        			|C++20 |

Процесс сборки:

1. Откройте папку проекта через командную строку и выполните команду для настройки с помощью cmake:
```
cmake -S . -B build
```
2. Соберите проект:
```
cmake --build build --config Release
```
3. Запустите игру:
```
.\build\TBAB\Release\TBAB.exe
```
Также можно запустить скрипт ```buildAndRun.bat```, который выполнит все шаги автоматически.

## Содержание

1. Описание игры
2. Цели проекта
3. Правила и механики
4. Классы персонажей и их бонусы
5. Оружие
6. Список противников
7. Алгоритм боя

---

## 1. Описание игры

Игрок создаёт персонажа (класс: Разбойник / Воин / Варвар) с тремя атрибутами: Сила, Ловкость, Выносливость. Бои проходят автоматически в пошаговом режиме против случайных монстров. Победа над 5 монстрами подряд — победа в игре.

## 2. Цели проекта

- Сделать читаемый и поддерживаемый код.
- Реализовать основные механики: создание персонажа, атаки, эффекты оружия/классов, апгрейды и мультикласс.
- Обеспечить простой способ запускать игру (консольное приложение).

## 3. Правила и механики (кратко)

- Персонаж и монстр ходят по очереди. Первым ходит тот, у кого выше Ловкость; при равенстве — персонаж.
- Значение выносливости прибавляется к здоровью при каждом повышении уровня.
- Попадание определяется случайным числом от 1 до (ловкость_атакующего + ловкость_цели). Если число ≤ ловкость_цели — промах.
- Урон = урон_оружия + сила_атакующего + эффект_класса_или_оружия − защита_цели.
- После боя здоровье персонажа восстанавливается до максимума; при победе даётся выбор поднять уровень (макс суммарный уровень = 3) и поменять оружие на выпавшее из моба.

## 4. Классы персонажей

- **Разбойник**
  - Здоровье за уровень: 4
  - Начальное оружие: Кинжал
  - Бонусы: 
		1 LVL - Скрытая атака (+1 к урону если ловкость выше цели), 
		2 LVL - +1 Ловкость, 
		3 LVL - Эффект "Яд" (доп урон: +1 на 2-м ходу, +2 на 3-м и т.д.)

- **Воин**
  - Здоровье за уровень: 5
  - Начальное оружие: Меч
  - Бонусы:
		1 LVL - Порыв к действию (в первый ход двойной урон оружием),
		2 LVL - Щит (-3 к получаемому урону если сила персонажа выше атакующего),
		3 LVL - +1 Сила

- **Варвар**
  - Здоровье за уровень: 6
  - Начальное оружие: Дубина
  - Бонусы:
		1 LVL - Ярость (+2 урона первые 3 хода, затем −1),
		2 LVL - Каменная кожа (снижение урона на величину выносливости),
		3 LVL - +1 Выносливость

## 5. Оружие

- Кинжал: урон 2 (колющий)
- Меч: урон 3 (рубящий)
- Дубина: урон 3 (дробящий)
- Топор: урон 4 (рубящий)
- Копьё: урон 3 (колющий)
- Легендарный Меч: урон 10 (рубящий)

## 6. Противники

- **Гоблин**
   - Здоровье: 5
   - Урон: 2
   - Сила: 1
   - Ловкость: 1
   - Выносливость: 1
   - Особенности: -
   - Награда за победу - Кинжал

- **Скелет**
   - Здоровье: 10
   - Урон: 2
   - Сила: 2
   - Ловкость: 2
   - Выносливость: 1
   - Особенности: получает вдвое больше урона от дробящего оружия
   - Награда за победу - Дубина

- **Слайм**
   - Здоровье: 8
   - Урон: 1
   - Сила: 3
   - Ловкость: 1
   - Выносливость: 2
   - Особенности: рубящее оружие не наносит ему урона (урон от силы и особенностей всё равно работает)
   - Награда за победу - Копьё

- **Призрак**
   - Здоровье: 6
   - Урон: 3
   - Сила: 1
   - Ловкость: 3
   - Выносливость: 1
   - Особенности: имеет способность "скрытая атака" (как у разбойника 1-го уровня)
   - Награда за победу - Меч

- **Голем**
   - Здоровье: 10
   - Урон: 1
   - Сила: 3
   - Ловкость: 1
   - Выносливость: 3
   - Особенности: каменная кожа (снижение получаемого урона на значение выносливости)
   - Награда за победу - Топор

- **Дракон**
   - Здоровье: 20
   - Урон: 4
   - Сила: 3
   - Ловкость: 3
   - Выносливость: 3
   - Особенности: каждый 3-й ход дышит огнём, нанося дополнительно 3 урона
   - Награда за победу - Легендарный Меч

## 7. Алгоритм боя

1. Выбор первого хода по Ловкости.
2. Для каждого хода:
   - Проверить попадание (см. раздел 3).
   - Если попал — вычислить базовый урон и применить эффекты атакующего (ярость, порыв) и целевые защиты (каменная кожа, щит).
   - Если итоговый урон > 0 — вычесть урон из HP цели.
   - Проверить смерть цели — закончить бой при HP ≤ 0.
   - Иначе — смена очереди.
   
## 8. Пример начала игры
Игроку выпали начальные статы: Сила 1, Ловкость 3, Выносливость 2. Он выбирает класс "Разбойник": у 
него 6 единиц здоровья (4 за 1 уровень разбойника и 2 от выносливости), он вооружён кинжалом, которым 
наносит 3 единицы колющего урона за атаку (2 единицы от самого кинжала + 1 от силы) , а также его урон 
повышается на 1 если у его цели ловкость ниже чем у него самого. 